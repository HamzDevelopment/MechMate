<ion-content [fullscreen]="true">
  <ion-img src="assets/logo.png" class="logo"></ion-img>
  <ion-button routerLink="/" class="back-button">
    <ion-icon name="chevron-back-outline"></ion-icon>
  </ion-button>
  <div class="diagnostic-container">
    <ion-title>Diagnose your Car</ion-title>
    <p><i>Describe the problem you are facing with your car, our advanced AI model will try its best to help you. You
        can also get an estimate on labour hours and price.</i></p>
    <ion-row style="justify-content: center;">
      <ion-col size-md="12" size-lg="6" size-xl="6">
        <ion-list>
          <ion-item *ngFor="let message of messages">
            <ion-label
              [ngClass]="{'user-message': message.role === 'user', 'assistant-message': message.role === 'assistant'}">
              {{ message.content }}
            </ion-label>

            <ion-button *ngIf="message.role === 'assistant'" (click)="copyToClipboard()">
              <ion-icon name="copy-outline"></ion-icon>
            </ion-button>
          </ion-item>
        </ion-list>

        <ion-footer>
          <ion-toolbar>
            <ion-row>
              <ion-col size="10">
                <ion-input type="text" class="custom-input" [(ngModel)]="userInput"
                  (keyup.enter)="sendMessage()"></ion-input>
              </ion-col>
              <ion-col size="2">
                <ion-button expand="block" (click)="sendMessage()"><ion-icon
                    name="chevron-forward-outline"></ion-icon></ion-button>
              </ion-col>
            </ion-row>
          </ion-toolbar>
        </ion-footer>
      </ion-col>
    </ion-row>
  </div>
</ion-content>